#哈希算法

什么是哈希算法？
	将任意长度的二进制值串映射为固定长度的二进制值串，这个映射的规则就是哈希算法，而通过原始数据映射之后得到的二进制值串就是哈希值。

哈希算法的几点要求
- 从哈希值不能反向推导出原始数据（哈希算法也叫做单向哈希算法）。
- 对输入数据十分敏感，哪怕原始数据改动了一个bit，最后的哈希值都会大有不同。
- 散列冲突的概率要很小，对于不同的原始数据，哈希值相同的概率非常小。
- 哈希算法的执行效率要尽量高效，针对较长的文本，也能快速的计算出哈希值。

##哈希算法的应用

###安全加密

	MD5（Message-Digest消息摘要）加密算法和SHA(secure hash algorithm安全散列算法)。
	没有绝对安全的加密。越复杂、越难破解的加密算法，需要的计算时间也越长。

###唯一标识

	任何文件在计算中都可以表示成二进制码串。要比较两个文件是否一致，就从他们的二进制码串中抽取补位，进行哈希，然后进行对比。

###数据校验

	BT下载软件，基于P2P协议。把一个2GB 的文件分割成100个文件块，
	然后所有文件块下载完成之后，再组装成一个完整的电影文件。
	所以对100个文件块取哈希值，并且保存在种子文件中，
	因为哈希对数据很敏感，所以等到他下载好之后，
	在对下载完的文件逐一取哈希，然后和种子文件比较，
	如果不同就是文件不完整或者被篡改，无法完成下载。

###散列函数

	散列函数是设计一个散列表的关键，决定了散列冲突的概率和散列表的性能。要求会相对较低，散列算法也都比较简单，比较追求效率。

###负载均衡

	负载均衡的算法有轮询、随机、加权轮询等。
	通过哈希算法，对客户端IP地址或者会话ID计算哈希值，
	将取得的哈希值与服务器列表的大小进行取模运算，
	得到被路由到的服务器编号。这样同一个ip的所有请求，
	都路由到了一个后端服务器上。

###数据分片

	把很大的数据进行分片，然后多台机器并行处理。
	然后多台机器读出每个关键词，通过哈希函数计算哈希值，
	再跟n取模，得出应该分配到的机器编号。
	这样哈希相同的搜索关键词就会被分配到同一台机器上。
	同一个搜索关键词回到同一个机器上。
	每个机器计算关键词的次数就是总的次数。

###分布式存储

	把海量的数据放到多台机器上，如何决定哪个数据放到哪个机器上。
	可以采用数据分片的思想，通过哈希算法对数据取哈希，
	然后对机器个数取模，这个最终值就是应该存储的缓存机器编号。
	分布式存储采用一致性哈希算法：假设有k台机器，
	数据的哈希值范围是[0,max]，就将范围划分为m个小区间，
	每个机器负责m/k个小区间。淡游新机器假如，就将某几个小区间的数据，
	从原来的机器中搬移到新机器中。这样不用重新哈希、版以数据，
	也保持了各个机器上数据数量的均衡。



引入一个盐（salt），更用户的密码组合在一起，增加密码的复杂度，组合后的字符串再进行哈希算法加密，存到数据库，增加破密难度。没有绝对的安全，只能提高安全性，增加破迷的难度和成本。

##区块链

	区块链是一块块区块组成的，每个区块分为：区块头和区块体。
	区块头保存着自己区块头和上一个区块头的哈希值。
	这种链式关系和哈希值的唯一性，只要区块链上任意一个区块被修改过，后面的所有区块保存的哈希值就不对了。
	区块链采用SHA256算法。难以被破密。





